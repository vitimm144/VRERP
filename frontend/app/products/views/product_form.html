<div id="wrapper">

  <div id="page-wrapper">

    <div class="container-fluid">

      <!-- Page Heading -->
      <div class="row">
        <div class="col-lg-12">
          <h1 class="page-header">
            Cadastro de Produtos
          </h1>
          <ol class="breadcrumb">
            <li>
              <i class="fa fa-ticket"></i>  <a ui-sref="products">Produtos</a>
            </li>
            <li class="active">
              <i class="fa fa-edit"></i> Novo
            </li>
          </ol>
        </div>
      </div>
      <!-- /.row -->

      <div class="row">
        <div class="col-lg-6">
          <div ng-if="product_edit_ctrl.product.id">
            
            <label>Imagem</label><br>
            
            <img ng-src="{{product_edit_ctrl.product.picture}}">
          </div>

          <form ng-app="fileUpload" role="form" name="product_form">

            <div class="form-group">
              <label>Descrição</label>
              
              <textarea 
                ng-model="product_edit_ctrl.product.description"
                class="form-control" required>
              </textarea>
            </div>
            <div class="form-group">
              <label>Código</label>
              
              <input 
                ng-model="product_edit_ctrl.product.code"
                class="form-control" required>
            </div>
            <div class="form-group">
              <label>Preço Varejo</label>
              
              <input
                name="price"
                id="price"
                ng-model="product_edit_ctrl.price.value"
                class="form-control" required>
            </div>
            
            <div class="form-group">
              <label>Preço Atacado</label>
              
              <input
                name="whole_sale_value"
                id="whole_sale_value"
                ng-model="product_edit_ctrl.price.whole_sale_value"
                class="form-control" required>
            </div>
            
            <div class="form-group">
              <label>Tamanho</label>
              
              <select
                type="number"
                required
                ng-model="product_edit_ctrl.product.size"
                class="form-control">
                  <option ng-repeat="size in product_edit_ctrl.sizes" >{{size}}</option>
                </select>
            </div>
            <div class="form-group">
              <label>Cor</label> <button type="button" class="btn btn-default" data-toggle="modal" data-target="#corModal">Criar cor</button>
              <ui-select ng-model="product_edit_ctrl.product.color">
                <ui-select-match>
                  <span>{{ $select.selected.code}} - {{ $select.selected.name}}</span>
                </ui-select-match>
                <ui-select-choices repeat="color.id as color in (product_edit_ctrl.colors | filter: $select.search) track by color.code">
                  <span>{{ color.code }} - {{ color.name }}</span>
                </ui-select-choices>
              </ui-select>
              
            </div>
            
            <div class="form-group">
              <label>Habilitar desconto</label>
              <div class="checkbox">
                <label>
                  <input
                    ng-model="product_edit_ctrl.product.enable_deduction"
                    type="checkbox" >
                </label>
              </div>
              
            </div>
             
            <div class="form-group">
              <label>Foto</label>
              <input
                type="file"
                ngf-select
                ng-model="product_edit_ctrl.file"
                name="file"
                ngf-pattern="'image/*'"
                ngf-accept="'image/*'" 
                ngf-max-size="20MB" 
                ngf-min-height="100"
                ngf-resize="{width: 100, height: 100}"/>
            </div>
                        
            <button
              type="button"
              ng-click="product_edit_ctrl.submit(product_edit_ctrl.file)"
              class="btn btn-default">Enviar</button>
            <button type="reset" class="btn btn-default">Limpar</button>

          </form>

        </div>


      </div>
    </div>


  </div>
  <!-- Modal -->
  <div id="corModal" class="modal fade" role="dialog">
    <div class="modal-dialog">

      <!-- Modal content-->
      <div class="modal-content">
        <div class="modal-header">
          <button type="button" class="close" data-dismiss="modal">&times;</button>
          <h4 class="modal-title">Cadastro de Cor</h4>
        </div>
        
        <div class="row modal-dialog">
          <div class="col-lg-12">
            <form role="form">

              <div class="form-group">
                <label>Código</label>
                <input
                  ng-model="product_edit_ctrl.color.code"
                  class="form-control"
                >
              </div>
              <div class="form-group">
                <label>Nome</label>

                <textarea 
                  ng-model="product_edit_ctrl.color.name"
                  class="form-control"
                >
                </textarea>  
              </div>
              <button
                type="button"
                ng-click="product_edit_ctrl.submit_color()"
                class="btn btn-default">Enviar</button>
              <button type="reset" class="btn btn-default" >Limpar</button>

            </form>
          </div>
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-default" data-dismiss="modal">Fechar</button>
        </div>
      </div>

    </div>
  </div>



</div>

